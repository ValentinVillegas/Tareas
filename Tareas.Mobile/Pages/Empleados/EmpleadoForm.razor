@using Tareas.Shared.Enums;

<NavigationLock OnBeforeInternalNavigation="OnBeforeInternalNavigation"/>

<EditForm EditContext="editContext" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator/>

    <div class="mb-3">
        <label>Número de empleado:</label>
        <div>
            <InputText class="form-control" @bind-Value="Empleado.CveEmpleado"/>
            <ValidationMessage For="@(()=> Empleado.CveEmpleado)"/>
        </div>
    </div>

    <div class="mb-3">
        <label>Nombre:</label>
        <div>
            <InputText class="form-control" @bind-Value="Empleado.Nombre" />
            <ValidationMessage For="@(()=> Empleado.Nombre)" />
        </div>
    </div>

    <div class="mb-3">
        <label>Departamento:</label>
        <div>
            <select class="form-select" @bind="@Empleado.DepartamentoId">
                <option value="0">-- Seleccione un Departamento --</option>
                @if(departamentos  is not null)
                {
                    @foreach (var departamento in departamentos)
                    {
                        <option value="@departamento.Id">@departamento.Nombre</option>
                    }
                }
            </select>
        </div>
    </div>

    <div class="mb-3">
        <label>Estatus:</label>
        <div>
            <select class="form-select" @bind="@Empleado.Cancelo">
                @foreach(var estatus in Enum.GetValues(typeof(EstatusEmpleado)))
                {
                    <option value="@estatus">@estatus</option>
                }
            </select>
        </div>
    </div>

    <button class="btn btn-success" type="submit"><i class="oi oi-check" /> Guardar</button>
    <button type="button" class="btn btn-warning" @onclick="ReturnAction"><i class="oi oi-chevron-left" /> Regresar</button>
</EditForm>